# Глава 5. Компилятор Java - 'javac'

## Раздел 5.1. Команда `javac` - начало работы

**Простой пример**

Предположим, что файл "HelloWorld.java" содержит следующую программу на языке Java:
```java
public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello world!");
    }
}
```

Скопилировать приведённый выше файл можно с помощью следующей команды:

```bash
$ javac HelloWorld.java
```

В результате создаётся файл с именем "HelloWorld.class", который мы можем запустить на выполнение следующим образом:

```bash
$ java HelloWorld
Hello world!
```

Отметим здесь следующие ключевые моменты:
1. Имя исходного файла "HelloWorld.java" должно совпадать с именем класса в исходном файле... которым является HelloWorld. Если они не совпадают, то будет выдана ошибка компиляции.
2. Имя файла байт-кода "HelloWorld.class" соответствует имени класса. Если переименовать файл "HelloWorld.class", то при попытке его запуска возникнет ошибка.
3. При запуске Java-приложения с помощью загрузчик java указывается имя класса, а не имя файла, содержащего байт-код.

**Пример с пакетами**

В большинстве программ на языке Java, получившим практическое применение, используются пакеты для организации пространства имен классов и снижения раски случайного столкновения имен классов.

Если бы мы хотели объявить класс HelloWorld в пакете с именем com.example, то текст программы "HelloWorld.java" выглядел бы следующим образом:

```java
package com.example;

public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello world!");
    }
}
```

Этот файл с текстом программы должен храниться в дереве котологов, структура которого соответствует имени пакета.
```java
.       # текущий каталог (для данного примера)
|
----com
    |
    ---- example
         |
         ----HelloWorld.java
```

Мы можем компилировать приведённый выше файл с помощью команды:
```bash
$ javac com/example/HelloWorld.java
```

В результате получается файл с именем "com/example/HelloWorld.class", т.е. после компиляции структура файла должна выглять следующим образом:

```java
.       # текущий каталог (для данного примера)
|
----com
    |
    ---- example
         |
         ----HelloWorld.java
         ----HelloWorld.class
```

Затем мы можем запустить приложение следующим образом:

```bash
$ javac com.example.HelloWorld
Hello world!
```

Здесь следует отметить следующие моменты:
1. Структура каталогов должна соответствовать структуре имен пакетов.
2. При запуске класса необходимо указывать полное имя класса, т.е. "com.example.HelloWorld", а не просто "HelloWorld".
3. Не обязательно компилировать и запускать программу на языке Java из текущего каталога. Мы просто сделали здесь это для примера.

**Компиляция нескольких файлов одновременно с помощью 'javac'.**

Если ваше приложение состояит из нескольких файлов исходного кода (а большинство из них так и есть!), вы можете компилировать их по одному. В качестве альтернативы можно скомпилировать несколько файлов одновременно, перечислив их пути:

```bash
$ java Foo.java Bar.java
```

или использовав символы подстановки для имен файлов в командной строке

```bash
$ javac *.javac
$ javac com/example/*.javac
$ javac */**/*.java # Работает в Zsh или при включенной globstar в вашей оболочке
```

В результате будет скомпилированы все исходные файлы Java, расположенные соответственно в текущем каталоге, в каталоге "com/example" и рекурсивно во всех дочерних каталогах. Третья альтернатива - предоставить список имен исходных файлов (и опций компилятора) в виде специального файла. Например:

```bash
$ javac @sourcefiles
```

При этом файл sourcefiles содержит следующие строки:

```bash
Foo.java
Bar.java
com/example/HelloWorld.java
```

_Примечание_: компиляция кода подобным образом целесообразна для небольших проектов, выполняемых одним человеком, и для разовых программ. В противном случае целесообразно выбрать и и спользовать средство сборки Java. В качестве альтернативы большинство программистов используют IDE, поддерживающие язык Java (например, NetBeans, Eclipse, Intellif IDEA), которые предлагают встроенный компилятор и поэтоапную сборку "проектов".



[к оглавлению Глава 5](#глава-5-компилятор-java---javac)

[Раздел 5.1. Команда `javac` - начало работы](#раздел-51-команда-javac---начало-работы)