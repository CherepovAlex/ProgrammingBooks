## Глава 1. Программирование объектов: введение

Прежде чем приступить к изучению стилей проектирования, давайте обсудим некоторые фундаментальные вопросы программирования с применением объектов. Мы кратко пройдемся по самым важным понятиям и поясним распространенную терминологию, с которой продолжим знакомиться и в последующих главах.

Мы.рассмотрим:
+ _Классы и объекты_ — создание объектов на основе классов, использование конструктора, статические и объектные методы, статические методы фабрик для создания новых экземпляров и выдача исключений в конструкторе (раздел.1.1).
+ _Состояние_ — объявление свойств `private` и `public`, задание им значений, константы, а также изменяемые и неизменяемые состояния (раздел.1.2).
+ _Поведение_ — `private-` и `public`-методы, передача значений в качестве аргументов и исключения `NullPointerException`(раздел.1.3).
+ _Зависимости_ — их инициализация, обнаружение и передача в конструктор в качестве аргумента (раздел.1.4).
+ _Наследование_ — интерфейсы, абстрактные классы, переопределение и финальные классы (раздел.1.5).
+ _Полиморфизм_ — один интерфейс, разное поведение (раздел.1.6).
+ _Композиция_ — присвоение объектов свойствам и создание более сложных объектов (раздел.1.7).
+ _Организация классов_ (раздел.1.8).
+ _Оператор возврата и исключения_ — возвращение значения из метода, исключения в методе, обработка исключений, объявление собственных классов исключений (раздел.1.9).
+ _Модульное тестирование_ — паттерн Arrange-Act-Assert, тестирование на сбои и использование дублеров тестов для замещения зависимостей (раздел.1.10).
+ _Динамические массивы_ — их использование для создания списков или маппингов (раздел.1.11).

Если вы знакомы с этими темами, можете смело пропускать эту главу и переходить к главе 2. Если только некоторые темы представляют для вас интерес, просмотрите соответствующие разделы. Если же вы начинающий объектно-ориентированный программист, я рекомендую прочесть главу целиком.

## 1.1. КЛАССЫ И ОБЪЕКТЫ
Поведение объекта в среде исполнения задается объявлением класса. На основе класса можно создавать любое количество объектов. В следующем листинге показан простой класс, у которого нет состояния или поведения, но который можно инстанцировать.

### Листинг 1.1. Минимально жизнеспособный класс

```java
class Foo
{
    // Здесь ничего нет
}
object1 = new Foo();
object2 = new Foo();
object1 == object2 // false // Два экземпляра одного класса нельзя считать равными
```

После того как вы создадите экземпляр, можно будет вызывать его методы.

### Листинг 1.2. Вызов метода экземпляра

```java
class Foo
{
    public function someMethod(): void
    {
        // Что-нибудь сделать 
    }
}
object1 = new Foo();
object1.someMethod();
```

Обычный метод, такой как `someMethod()`, можно вызвать только на _экземпляре класса_. Такой метод называется _объектным методом_. Можно также задать методы, вызываемые без наличия экземпляра. Они называются _статическими методами_.

### Листинг 1.3. Объявление статического метода

```java
class Foo
{
    public function anObjectMethod(): void
    {
        // ...
    }
    public static function aStaticMethod(): void
    {
        // ...
    }
}
object1 = new Foo();
object1.anObjectMethod(); // anObjectMethod() можно вызвать только на экземпляре SomeClass
Foo.aStaticMethod();      //  aStaticMethod() можно вызвать без экземпляра
```

Кроме объектных и статических методов, класс может иметь специальный метод—_конструктор_. Этот метод вызывается до того, как объекту присваивается ссылка. Если необходимо подготовить объект к использованию, это можно сделать в конструкторе.

### Листинг 1.4. Объявление метода-конструктора

```java
class Foo
{
    public function __construct()
    {
        // Подготовить объект
    }
}
object1 = new Foo();    // __construct будет явно вызван перед тем, как object1 будет присвоен экземпляр Foo
```

Можно помешать созданию объекта, вызвав _исключения_ в конструкторе, как показано в листинге ниже. Подробнее об исключениях см. в разделе 1.9.

### Листинг 1.5. Обработка исключения в конструкторе

```java
class Foo
{
    public function __construct()
    {
        throw new RuntimeException(); // Инстанцировать Foo невозможно, так как его конструктор всегда будет выдавать исключение
    }
}
try {
    object1 = new Foo();
} catch (RuntimeException exception) {
    // `object1` будет неопределен
}
```
Стандартный способ инстанцирования объекта класса — использование оператора `new`, как вы уже, наверно, заметили. Также можно задать статичный _фабричный метод_ класса, который будет возвращать новый экземпляр этого класса.

### Листинг 1.6. Объявление статичного фабричного метода

```java
class Foo
{
    public static function create(): Foo
    {
        return new Foo();
    }
}
object1 = Foo.create();
object2 = Foo.create();
```

Метод `create()` нужно объявлять статичным, так как он вызывается на классе, а не на экземпляре класса.

[оглавление Главы 1](#глава-1-программирование-объектов-введение)

## 1.2. СОСТОЯНИЕ



[оглавление Главы 1](#глава-1-программирование-объектов-введение)

[1.1. КЛАССЫ И ОБЪЕКТЫ](#11-классы-и-объекты)

[1.2. СОСТОЯНИЕ](#12-состояние)

